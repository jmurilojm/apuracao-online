<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Apuração</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial;
    }

    h1 {
      text-transform: uppercase;
      background: darkblue;
      color: white;
      text-align: center;
      padding: 10px;
    }

    h4 {
      margin: 10px 0;
      text-align: center;
    }

    h6 {
      margin: 5px 10px;
    }

    main {
      width: 90%;
      padding: 5px 10px;
      margin: auto;
      display: noe;
    }

    div {
      height: 30px;
      background: darkblue;
      width: 1%;
      margin: 5px 0;
      color: white;
      text-align: center;
      margin: 0 0 20px 0;
      position: relative;
    }

    main div span {
      color: blue;
      background: transparent;
      font-size: 10px;
      position: absolute;
      left: 50px;
      width: 70vw;
      margin: 10px 0;
      
    }

    img {
      width: 30px;
      margin: 0 10px;
    }
    
    h2{
      text-align: center;
      margin-top: 100px;
      color: red;
      display: none;
    }
    ul{
      padding: 20px;
    }
    li{
      font-size: 10px;
    }
    h3{
     text-align: center;
     color: white;
     background: darkblue;
    }
  </style>
</head>

<body>
  <h1><img src="logo.png" alt="Logo não oficial da GCM Arcoverde PE">Apuração</h1>
  <h6>Última atualização: 18:09 ‐ 18/01/2025.</h6>
  <h4>Total de Votos Apurados: <span id="apuracao">0</span></h4>
  <main>
    <!--<div><span>0.0</span></div>-->
  </main>
  <h2>Aguarde às 18:00 horas. <br><br>Foi só uma parcial. kkk...</h2>
  
  <section>
    <h3>Participaram da Votação</h3>
    
    <ul></ul>
  </section>
  
  <section>
    <h3>Ordem de Preferência</h3>
    
    <ul>
      <li><strong>13 pts na Preferência de 1º lugar: </strong>Alessandro Lessa Rodrigues</li>
      <li><strong>12 pts na Preferência de 2º lugar: </strong>Ednaldo de Lima</li>
      <li><strong>05 pts na Preferência de 3º lugar: </strong>Henrique Dantas</li>
      <li><strong>06 pts na Preferência de 4º lugar: </strong>Érico Monteiro</li>
      <li><strong>06 pts na Preferência de 5º lugar: </strong>Eder Rocha</li>
      <li><strong>08 pts na Preferência de 6º lugar: </strong>André Soares</li>
      <li><strong>07 pts na Preferência de 7º lugar: </strong>Jhony Weslly</li>
    </ul>
  </section>

  <script>
    const votos = [37, 34, 33, 30, 25, 23, 23, 21, 19, 17, 11];
    const nomes = [
      `Alessandro Lessa Rodrigues = ${votos[0]} votos`,
      `Ednaldo de Lima = ${votos[1]} votos`, 
      `Érico Monteiro= ${votos[2]} votos`,
      `Henrique Dantas= ${votos[3]} votos`,
      `Eder da Rocha= ${votos[4]} votos`, 
      `André Soares= ${votos[5]} votos`, 
      `Karl Francis= ${votos[6]} votos`, 
      `José Ladjane Mendes e Silva= ${votos[7]} votos`,
      `Micael Thiago Santos Feitosa= ${votos[8]} votos`,
      `Jhonny Weslly= ${votos[9]} votos`, 
      `Francimario= ${votos[10]} votos`
      ]
    let soma = 0;

    for (let i = 0; i < votos.length; i++) {
      soma += votos[i];
    }

    const main = document.querySelector('main');
    for (let i = 0; i < votos.length; i++) {
      const percentual = (votos[i] / soma) * 100;
      //console.log(percentual);

      const div = document.createElement('div');
      const span = document.createElement('span');

      span.textContent = `${percentual.toFixed(1)}% ${nomes[i]}`; // Formatado o percentual com 1 casa decimal
      div.style.width = percentual + "%"; // Definindo a largura proporcional ao percentual

      div.appendChild(span)
      main.appendChild(div);
    }
    
    for(let i=0; i<main.children.length; i++){
      if(i < 7){
        main.children[i].style.backgroundColor = 'green'
      } else{
        main.children[i].style.backgroundColor = 'red'
      }
    }
    
    
    const participantes = [
      'Jose Keydson',
'Diego Henrique',
'JA Soares',
'Pablo Mascena Alencar',
'Waldecy Correia de Albuquerque',
'Willians Calixto',
'Gabriella Guimarães',
'Karl Francis dos santos araujo',
'Lucas José',
'Ladjane Mendes',
'Gabriel Filipe',
'Érico Monteiro',
'Edson Fábio',
'Joyce Freire',
'Jhonny Wesley',
'Jozildo Júnior',
'Fran Gonçalves',
'eric michel',
'Fred Lucas',
'Leandro Melo',
'Jeferson Gomes',
'Raul Henrique',
'Jab Andrade',
'Micael Santos',
'Ednaldo de lima Pereira',
'Natalia Silva',
'Elizangelo Antonio Da silva',
'Severino Bernardo',
'Jeanderson Da Silva Carvalho',
'Fábio Liberato',
'D Fer',
'Emanoel Angelo',
'José Bruno',
'anaclecio de frança bezerra da Silva',
'Samyr Vitório',
'Darlan Barbosa',
'Claudinho Henrique',
'ademilson andre',
'Andréia Cavalcanti'
]
    const ul = document.querySelector('ul')
    document.querySelector('#apuracao').textContent = participantes.length;
    for(let i=0; i<participantes.length; i++){
      const li = document.createElement('li')
      li.textContent = participantes[i]
      ul.appendChild(li)
    }
  </script>
</body>

</html>
